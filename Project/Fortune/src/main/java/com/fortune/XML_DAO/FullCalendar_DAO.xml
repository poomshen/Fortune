<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mappier.dtd">
<mapper namespace="com.fortune.fullcalendar_DAO.IFullCalendar">



<!-- 일정(일반업무)등록 -1 -->
<insert id="insertSchedule">
<!-- schedule 테이블 insert // COLLABO_NO는 임의로 1로 넣음 -->
INSERT INTO schedule(SCHEDULE_NO, COLLABO_NO, SCHEDULE_START, SCHEDULE_END)
    VALUES((select count(*)+1 from schedule), 1, #{schedule_start}, #{schedule_end})
</insert>
<!-- 일정(일반업무)등록 -2 -->
<insert id="insertWork">
<!-- work 테이블 insert // WORK_NO는 임의로 1로 넣음 -->
INSERT INTO work(SCHEDULE_NO, WORK_TITLE, WORK_TEXT)
    VALUES((select max(schedule_no) from schedule), #{work_title}, #{work_text})
</insert>

<!-- 모든 일정(일반업무) select -->
<select id="selectSWList" resultType="com.fortune.function_DTO.Schedule_Work_DTO">
	SELECT S.SCHEDULE_NO as "schedule_no", SCHEDULE_START, SCHEDULE_END, WORK_TITLE, WORK_TEXT FROM 
	SCHEDULE S JOIN WORK W 
	ON S.SCHEDULE_NO = W.SCHEDULE_NO 
	WHERE S.COLLABO_NO = 1
</select>







</mapper>